values_from = index) %>%
pivot_longer(-c(group, normal, label), values_to = index, names_to = "subgroup")
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(-c(group, normal, label), values_to = "index", names_to = "subgroup")
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
inex = if_else(is.na(index), "", index))
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index, values_fill = 1) -> index_table
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "", index),
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
)
names_from = group,
values_from = index, values_fill = 1) -> index_table
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "", index),
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index, values_fill = 1) -> index_table
names_from = group,
values_from = index) -> index_table
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "", index),
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index) -> index_table
source("scripts/import_subgroup_comparisons.R")
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal, label),
values_to = "index",
names_to = "subgroup")
subgroups
index_dat  <- read_csv("../subgroups/subgroup_relations.csv")
normal_dat <- read_csv("../subgroups/subgroup_normal.csv")
# sort out group names
group_names  <- str_to_upper(index_dat$group)
index_dat  <- index_dat[, -1]
normal_dat <- normal_dat[, -1]
# remove p1
group_names  <- group_names[-1]
index_dat  <- select(index_dat[-1,], -p1)
normal_dat <- select(normal_dat[-1,], -p1)
subgroups <- tibble(
group = as.character(),
subgroup = as.character(),
index = as.numeric(),
normal = as.logical())
for (ii in 1:nrow(index_dat)) {
for (jj in 1:ncol(index_dat)) {
subgroups <- add_row(subgroups,
group = group_names[jj],
subgroup = group_names[ii],
index = as.numeric(index_dat[ii,jj]),
normal = normal_dat[ii,jj] == 1)
}
}
# list of comparisons to remove
to_remove <- list(
"PM-CM", "CM-PM",
"PMM-CMM", "CMM-PMM",
"P3M1-P31M", "P31M-P3M1")
to_remove <- append(to_remove, unlist(paste(group_names, "-", group_names, sep = "")))
subgroups
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
source("scripts/import_subgroup_comparisons.R")
index_table
index_table[1,1]
index_table[2,2]
index_table[2,2][1]
index_table[2,2][[1]]
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup")
index_dat  <- read_csv("../subgroups/subgroup_relations.csv")
normal_dat <- read_csv("../subgroups/subgroup_normal.csv")
# sort out group names
group_names  <- str_to_upper(index_dat$group)
index_dat  <- index_dat[, -1]
normal_dat <- normal_dat[, -1]
# remove p1
group_names  <- group_names[-1]
index_dat  <- select(index_dat[-1,], -p1)
normal_dat <- select(normal_dat[-1,], -p1)
subgroups <- tibble(
group = as.character(),
subgroup = as.character(),
index = as.numeric(),
normal = as.logical())
for (ii in 1:nrow(index_dat)) {
for (jj in 1:ncol(index_dat)) {
subgroups <- add_row(subgroups,
group = group_names[jj],
subgroup = group_names[ii],
index = as.numeric(index_dat[ii,jj]),
normal = normal_dat[ii,jj] == 1)
}
}
# list of comparisons to remove
to_remove <- list(
"PM-CM", "CM-PM",
"PMM-CMM", "CMM-PMM",
"P3M1-P31M", "P31M-P3M1")
to_remove <- append(to_remove, unlist(paste(group_names, "-", group_names, sep = "")))
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup")
source("scripts/import_subgroup_comparisons.R")
opts <- options(knitr.kable.NA = "")
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index)
index_dat  <- read_csv("../subgroups/subgroup_relations.csv")
normal_dat <- read_csv("../subgroups/subgroup_normal.csv")
# sort out group names
group_names  <- str_to_upper(index_dat$group)
index_dat  <- index_dat[, -1]
normal_dat <- normal_dat[, -1]
# remove p1
group_names  <- group_names[-1]
index_dat  <- select(index_dat[-1,], -p1)
normal_dat <- select(normal_dat[-1,], -p1)
subgroups <- tibble(
group = as.character(),
subgroup = as.character(),
index = as.numeric(),
normal = as.logical())
for (ii in 1:nrow(index_dat)) {
for (jj in 1:ncol(index_dat)) {
subgroups <- add_row(subgroups,
group = group_names[jj],
subgroup = group_names[ii],
index = as.numeric(index_dat[ii,jj]),
normal = normal_dat[ii,jj] == 1)
}
}
# list of comparisons to remove
to_remove <- list(
"PM-CM", "CM-PM",
"PMM-CMM", "CMM-PMM",
"P3M1-P31M", "P31M-P3M1")
to_remove <- append(to_remove, unlist(paste(group_names, "-", group_names, sep = "")))
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup")
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
# index = kableExtra::cell_spec(
#     index,
#     italic = if_else(normal == TRUE, TRUE, FALSE),
#     color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index)
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup") %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index)
16*16
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup")
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = index)
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index)
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-c(group, normal),
values_to = "index",
names_to = "subgroup")
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = c(index, normal))
subgroups %>%
pivot_wider(
names_from = subgroup,
values_from = c(index, normal))
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index)
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup")
subgroups
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups)
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups)
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index) -> index_table
ubgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups)
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
)
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups) %>%
mutate(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups) %>%
mutate(
names_from = group,
values_from = index) -> index_table
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups) %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
# index = if_else(is.na(index), "-", index)
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index) -> index_table
index_table
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
subgroups %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = subgroup,
values_from = index) %>%
pivot_longer(
-group,
values_to = "index",
names_to = "subgroup") %>%
left_join(subgroups) %>%
mutate(
colour_code = if_else(paste(group, subgroup, sep="-") %in% to_remove, 2, 1),
index = as.character(index),
index = if_else(is.na(index), "-", index),
index = kableExtra::cell_spec(
index,
italic = if_else(normal == TRUE, TRUE, FALSE),
color = kableExtra::spec_color(colour_code, end = 0.9, na_color = "#FFFFFF")),
) %>%
select(group, subgroup, index) %>%
pivot_wider(
names_from = group,
values_from = index) -> index_table
knitr::kable(index_table, caption = "subgroup index", escape = "F") %>% kableExtra::kable_styling(full_width = F)
